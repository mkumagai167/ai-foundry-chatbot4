{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent.js\";\nconst UserAgentHeaderName = getUserAgentHeaderName();\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options = {}) {\n  const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n  return {\n    name: userAgentPolicyName,\n    async sendRequest(request, next) {\n      if (!request.headers.has(UserAgentHeaderName)) {\n        request.headers.set(UserAgentHeaderName, await userAgentValue);\n      }\n      return next(request);\n    }\n  };\n}","map":{"version":3,"names":["getUserAgentHeaderName","getUserAgentValue","UserAgentHeaderName","userAgentPolicyName","userAgentPolicy","options","userAgentValue","userAgentPrefix","name","sendRequest","request","next","headers","has","set"],"sources":["C:\\Users\\M.Kumagai\\Documents\\React\\ai-foundry-chatbot4\\frontend\\node_modules\\@typespec\\ts-http-runtime\\src\\policies\\userAgentPolicy.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces.js\";\nimport type { PipelinePolicy } from \"../pipeline.js\";\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent.js\";\n\nconst UserAgentHeaderName = getUserAgentHeaderName();\n\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n\n/**\n * Options for adding user agent details to outgoing requests.\n */\nexport interface UserAgentPolicyOptions {\n  /**\n   * String prefix to add to the user agent for outgoing requests.\n   * Defaults to an empty string.\n   */\n  userAgentPrefix?: string;\n}\n\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options: UserAgentPolicyOptions = {}): PipelinePolicy {\n  const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n  return {\n    name: userAgentPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (!request.headers.has(UserAgentHeaderName)) {\n        request.headers.set(UserAgentHeaderName, await userAgentValue);\n      }\n      return next(request);\n    },\n  };\n}\n"],"mappings":"AAAA;AACA;AAIA,SAASA,sBAAsB,EAAEC,iBAAiB,QAAQ,sBAAsB;AAEhF,MAAMC,mBAAmB,GAAGF,sBAAsB,EAAE;AAEpD;;;AAGA,OAAO,MAAMG,mBAAmB,GAAG,iBAAiB;AAapD;;;;;AAKA,OAAM,SAAUC,eAAeA,CAACC,OAAA,GAAkC,EAAE;EAClE,MAAMC,cAAc,GAAGL,iBAAiB,CAACI,OAAO,CAACE,eAAe,CAAC;EACjE,OAAO;IACLC,IAAI,EAAEL,mBAAmB;IACzB,MAAMM,WAAWA,CAACC,OAAwB,EAAEC,IAAiB;MAC3D,IAAI,CAACD,OAAO,CAACE,OAAO,CAACC,GAAG,CAACX,mBAAmB,CAAC,EAAE;QAC7CQ,OAAO,CAACE,OAAO,CAACE,GAAG,CAACZ,mBAAmB,EAAE,MAAMI,cAAc,CAAC;MAChE;MACA,OAAOK,IAAI,CAACD,OAAO,CAAC;IACtB;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}