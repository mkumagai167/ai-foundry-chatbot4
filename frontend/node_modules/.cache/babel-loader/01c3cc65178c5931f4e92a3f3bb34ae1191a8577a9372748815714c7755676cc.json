{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { createTracingContext } from \"./tracingContext.js\";\nimport { state } from \"./state.js\";\nexport function createDefaultTracingSpan() {\n  return {\n    end: () => {\n      // noop\n    },\n    isRecording: () => false,\n    recordException: () => {\n      // noop\n    },\n    setAttribute: () => {\n      // noop\n    },\n    setStatus: () => {\n      // noop\n    },\n    addEvent: () => {\n      // noop\n    }\n  };\n}\nexport function createDefaultInstrumenter() {\n  return {\n    createRequestHeaders: () => {\n      return {};\n    },\n    parseTraceparentHeader: () => {\n      return undefined;\n    },\n    startSpan: (_name, spanOptions) => {\n      return {\n        span: createDefaultTracingSpan(),\n        tracingContext: createTracingContext({\n          parentContext: spanOptions.tracingContext\n        })\n      };\n    },\n    withContext(_context, callback, ...callbackArgs) {\n      return callback(...callbackArgs);\n    }\n  };\n}\n/**\n * Extends the Azure SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter) {\n  state.instrumenterImplementation = instrumenter;\n}\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter() {\n  if (!state.instrumenterImplementation) {\n    state.instrumenterImplementation = createDefaultInstrumenter();\n  }\n  return state.instrumenterImplementation;\n}","map":{"version":3,"names":["createTracingContext","state","createDefaultTracingSpan","end","isRecording","recordException","setAttribute","setStatus","addEvent","createDefaultInstrumenter","createRequestHeaders","parseTraceparentHeader","undefined","startSpan","_name","spanOptions","span","tracingContext","parentContext","withContext","_context","callback","callbackArgs","useInstrumenter","instrumenter","instrumenterImplementation","getInstrumenter"],"sources":["C:\\Users\\M.Kumagai\\Documents\\React\\ai-foundry-chatbot4\\frontend\\node_modules\\@azure\\core-tracing\\src\\instrumenter.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type {\n  Instrumenter,\n  InstrumenterSpanOptions,\n  TracingContext,\n  TracingSpan,\n} from \"./interfaces.js\";\n\nimport { createTracingContext } from \"./tracingContext.js\";\nimport { state } from \"./state.js\";\n\nexport function createDefaultTracingSpan(): TracingSpan {\n  return {\n    end: () => {\n      // noop\n    },\n    isRecording: () => false,\n    recordException: () => {\n      // noop\n    },\n    setAttribute: () => {\n      // noop\n    },\n    setStatus: () => {\n      // noop\n    },\n    addEvent: () => {\n      // noop\n    },\n  };\n}\n\nexport function createDefaultInstrumenter(): Instrumenter {\n  return {\n    createRequestHeaders: (): Record<string, string> => {\n      return {};\n    },\n    parseTraceparentHeader: (): TracingContext | undefined => {\n      return undefined;\n    },\n    startSpan: (\n      _name: string,\n      spanOptions: InstrumenterSpanOptions,\n    ): { span: TracingSpan; tracingContext: TracingContext } => {\n      return {\n        span: createDefaultTracingSpan(),\n        tracingContext: createTracingContext({ parentContext: spanOptions.tracingContext }),\n      };\n    },\n    withContext<\n      CallbackArgs extends unknown[],\n      Callback extends (...args: CallbackArgs) => ReturnType<Callback>,\n    >(\n      _context: TracingContext,\n      callback: Callback,\n      ...callbackArgs: CallbackArgs\n    ): ReturnType<Callback> {\n      return callback(...callbackArgs);\n    },\n  };\n}\n\n/**\n * Extends the Azure SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter: Instrumenter): void {\n  state.instrumenterImplementation = instrumenter;\n}\n\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter(): Instrumenter {\n  if (!state.instrumenterImplementation) {\n    state.instrumenterImplementation = createDefaultInstrumenter();\n  }\n  return state.instrumenterImplementation;\n}\n"],"mappings":"AAAA;AACA;AASA,SAASA,oBAAoB,QAAQ,qBAAqB;AAC1D,SAASC,KAAK,QAAQ,YAAY;AAElC,OAAM,SAAUC,wBAAwBA,CAAA;EACtC,OAAO;IACLC,GAAG,EAAEA,CAAA,KAAK;MACR;IAAA,CACD;IACDC,WAAW,EAAEA,CAAA,KAAM,KAAK;IACxBC,eAAe,EAAEA,CAAA,KAAK;MACpB;IAAA,CACD;IACDC,YAAY,EAAEA,CAAA,KAAK;MACjB;IAAA,CACD;IACDC,SAAS,EAAEA,CAAA,KAAK;MACd;IAAA,CACD;IACDC,QAAQ,EAAEA,CAAA,KAAK;MACb;IAAA;GAEH;AACH;AAEA,OAAM,SAAUC,yBAAyBA,CAAA;EACvC,OAAO;IACLC,oBAAoB,EAAEA,CAAA,KAA6B;MACjD,OAAO,EAAE;IACX,CAAC;IACDC,sBAAsB,EAAEA,CAAA,KAAiC;MACvD,OAAOC,SAAS;IAClB,CAAC;IACDC,SAAS,EAAEA,CACTC,KAAa,EACbC,WAAoC,KACqB;MACzD,OAAO;QACLC,IAAI,EAAEd,wBAAwB,EAAE;QAChCe,cAAc,EAAEjB,oBAAoB,CAAC;UAAEkB,aAAa,EAAEH,WAAW,CAACE;QAAc,CAAE;OACnF;IACH,CAAC;IACDE,WAAWA,CAITC,QAAwB,EACxBC,QAAkB,EAClB,GAAGC,YAA0B;MAE7B,OAAOD,QAAQ,CAAC,GAAGC,YAAY,CAAC;IAClC;GACD;AACH;AAEA;;;;;AAKA,OAAM,SAAUC,eAAeA,CAACC,YAA0B;EACxDvB,KAAK,CAACwB,0BAA0B,GAAGD,YAAY;AACjD;AAEA;;;;;AAKA,OAAM,SAAUE,eAAeA,CAAA;EAC7B,IAAI,CAACzB,KAAK,CAACwB,0BAA0B,EAAE;IACrCxB,KAAK,CAACwB,0BAA0B,GAAGhB,yBAAyB,EAAE;EAChE;EACA,OAAOR,KAAK,CAACwB,0BAA0B;AACzC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}