{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { logPolicy } from \"./policies/logPolicy.js\";\nimport { createEmptyPipeline } from \"./pipeline.js\";\nimport { redirectPolicy } from \"./policies/redirectPolicy.js\";\nimport { userAgentPolicy } from \"./policies/userAgentPolicy.js\";\nimport { multipartPolicy, multipartPolicyName } from \"./policies/multipartPolicy.js\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy.js\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy.js\";\nimport { formDataPolicy } from \"./policies/formDataPolicy.js\";\nimport { isNodeLike } from \"@azure/core-util\";\nimport { proxyPolicy } from \"./policies/proxyPolicy.js\";\nimport { setClientRequestIdPolicy } from \"./policies/setClientRequestIdPolicy.js\";\nimport { agentPolicy } from \"./policies/agentPolicy.js\";\nimport { tlsPolicy } from \"./policies/tlsPolicy.js\";\nimport { tracingPolicy } from \"./policies/tracingPolicy.js\";\nimport { wrapAbortSignalLikePolicy } from \"./policies/wrapAbortSignalLikePolicy.js\";\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options) {\n  const pipeline = createEmptyPipeline();\n  if (isNodeLike) {\n    if (options.agent) {\n      pipeline.addPolicy(agentPolicy(options.agent));\n    }\n    if (options.tlsOptions) {\n      pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n    }\n    pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n    pipeline.addPolicy(decompressResponsePolicy());\n  }\n  pipeline.addPolicy(wrapAbortSignalLikePolicy());\n  pipeline.addPolicy(formDataPolicy(), {\n    beforePolicies: [multipartPolicyName]\n  });\n  pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n  pipeline.addPolicy(setClientRequestIdPolicy(options.telemetryOptions?.clientRequestIdHeaderName));\n  // The multipart policy is added after policies with no phase, so that\n  // policies can be added between it and formDataPolicy to modify\n  // properties (e.g., making the boundary constant in recorded tests).\n  pipeline.addPolicy(multipartPolicy(), {\n    afterPhase: \"Deserialize\"\n  });\n  pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), {\n    phase: \"Retry\"\n  });\n  pipeline.addPolicy(tracingPolicy({\n    ...options.userAgentOptions,\n    ...options.loggingOptions\n  }), {\n    afterPhase: \"Retry\"\n  });\n  if (isNodeLike) {\n    // Both XHR and Fetch expect to handle redirects automatically,\n    // so only include this policy when we're in Node.\n    pipeline.addPolicy(redirectPolicy(options.redirectOptions), {\n      afterPhase: \"Retry\"\n    });\n  }\n  pipeline.addPolicy(logPolicy(options.loggingOptions), {\n    afterPhase: \"Sign\"\n  });\n  return pipeline;\n}","map":{"version":3,"names":["logPolicy","createEmptyPipeline","redirectPolicy","userAgentPolicy","multipartPolicy","multipartPolicyName","decompressResponsePolicy","defaultRetryPolicy","formDataPolicy","isNodeLike","proxyPolicy","setClientRequestIdPolicy","agentPolicy","tlsPolicy","tracingPolicy","wrapAbortSignalLikePolicy","createPipelineFromOptions","options","pipeline","agent","addPolicy","tlsOptions","proxyOptions","beforePolicies","userAgentOptions","telemetryOptions","clientRequestIdHeaderName","afterPhase","retryOptions","phase","loggingOptions","redirectOptions"],"sources":["C:\\Users\\M.Kumagai\\Documents\\React\\ai-foundry-chatbot4\\frontend\\node_modules\\@azure\\core-rest-pipeline\\src\\createPipelineFromOptions.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport { type LogPolicyOptions, logPolicy } from \"./policies/logPolicy.js\";\nimport { type Pipeline, createEmptyPipeline } from \"./pipeline.js\";\nimport type { Agent, PipelineRetryOptions, ProxySettings, TlsSettings } from \"./interfaces.js\";\nimport { type RedirectPolicyOptions, redirectPolicy } from \"./policies/redirectPolicy.js\";\nimport { type UserAgentPolicyOptions, userAgentPolicy } from \"./policies/userAgentPolicy.js\";\nimport { multipartPolicy, multipartPolicyName } from \"./policies/multipartPolicy.js\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy.js\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy.js\";\nimport { formDataPolicy } from \"./policies/formDataPolicy.js\";\nimport { isNodeLike } from \"@azure/core-util\";\nimport { proxyPolicy } from \"./policies/proxyPolicy.js\";\nimport { setClientRequestIdPolicy } from \"./policies/setClientRequestIdPolicy.js\";\nimport { agentPolicy } from \"./policies/agentPolicy.js\";\nimport { tlsPolicy } from \"./policies/tlsPolicy.js\";\nimport { tracingPolicy } from \"./policies/tracingPolicy.js\";\nimport { wrapAbortSignalLikePolicy } from \"./policies/wrapAbortSignalLikePolicy.js\";\n\n/**\n * Defines options that are used to configure the HTTP pipeline for\n * an SDK client.\n */\nexport interface PipelineOptions {\n  /**\n   * Options that control how to retry failed requests.\n   */\n  retryOptions?: PipelineRetryOptions;\n\n  /**\n   * Options to configure a proxy for outgoing requests.\n   */\n  proxyOptions?: ProxySettings;\n\n  /** Options for configuring Agent instance for outgoing requests */\n  agent?: Agent;\n\n  /** Options for configuring TLS authentication */\n  tlsOptions?: TlsSettings;\n\n  /**\n   * Options for how redirect responses are handled.\n   */\n  redirectOptions?: RedirectPolicyOptions;\n\n  /**\n   * Options for adding user agent details to outgoing requests.\n   */\n  userAgentOptions?: UserAgentPolicyOptions;\n\n  /**\n   * Options for setting common telemetry and tracing info to outgoing requests.\n   */\n  telemetryOptions?: TelemetryOptions;\n}\n\n/**\n * Defines options that are used to configure common telemetry and tracing info\n */\nexport interface TelemetryOptions {\n  /**\n   * The name of the header to pass the request ID to.\n   */\n  clientRequestIdHeaderName?: string;\n}\n\n/**\n * Defines options that are used to configure internal options of\n * the HTTP pipeline for an SDK client.\n */\nexport interface InternalPipelineOptions extends PipelineOptions {\n  /**\n   * Options to configure request/response logging.\n   */\n  loggingOptions?: LogPolicyOptions;\n}\n\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options: InternalPipelineOptions): Pipeline {\n  const pipeline = createEmptyPipeline();\n\n  if (isNodeLike) {\n    if (options.agent) {\n      pipeline.addPolicy(agentPolicy(options.agent));\n    }\n    if (options.tlsOptions) {\n      pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n    }\n    pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n    pipeline.addPolicy(decompressResponsePolicy());\n  }\n\n  pipeline.addPolicy(wrapAbortSignalLikePolicy());\n\n  pipeline.addPolicy(formDataPolicy(), { beforePolicies: [multipartPolicyName] });\n  pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n  pipeline.addPolicy(setClientRequestIdPolicy(options.telemetryOptions?.clientRequestIdHeaderName));\n  // The multipart policy is added after policies with no phase, so that\n  // policies can be added between it and formDataPolicy to modify\n  // properties (e.g., making the boundary constant in recorded tests).\n  pipeline.addPolicy(multipartPolicy(), { afterPhase: \"Deserialize\" });\n  pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), { phase: \"Retry\" });\n  pipeline.addPolicy(tracingPolicy({ ...options.userAgentOptions, ...options.loggingOptions }), {\n    afterPhase: \"Retry\",\n  });\n  if (isNodeLike) {\n    // Both XHR and Fetch expect to handle redirects automatically,\n    // so only include this policy when we're in Node.\n    pipeline.addPolicy(redirectPolicy(options.redirectOptions), { afterPhase: \"Retry\" });\n  }\n  pipeline.addPolicy(logPolicy(options.loggingOptions), { afterPhase: \"Sign\" });\n\n  return pipeline;\n}\n"],"mappings":"AAAA;AACA;AAEA,SAAgCA,SAAS,QAAQ,yBAAyB;AAC1E,SAAwBC,mBAAmB,QAAQ,eAAe;AAElE,SAAqCC,cAAc,QAAQ,8BAA8B;AACzF,SAAsCC,eAAe,QAAQ,+BAA+B;AAC5F,SAASC,eAAe,EAAEC,mBAAmB,QAAQ,+BAA+B;AACpF,SAASC,wBAAwB,QAAQ,wCAAwC;AACjF,SAASC,kBAAkB,QAAQ,kCAAkC;AACrE,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,WAAW,QAAQ,2BAA2B;AACvD,SAASC,wBAAwB,QAAQ,wCAAwC;AACjF,SAASC,WAAW,QAAQ,2BAA2B;AACvD,SAASC,SAAS,QAAQ,yBAAyB;AACnD,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,yBAAyB,QAAQ,yCAAyC;AA4DnF;;;;AAIA,OAAM,SAAUC,yBAAyBA,CAACC,OAAgC;EACxE,MAAMC,QAAQ,GAAGjB,mBAAmB,EAAE;EAEtC,IAAIQ,UAAU,EAAE;IACd,IAAIQ,OAAO,CAACE,KAAK,EAAE;MACjBD,QAAQ,CAACE,SAAS,CAACR,WAAW,CAACK,OAAO,CAACE,KAAK,CAAC,CAAC;IAChD;IACA,IAAIF,OAAO,CAACI,UAAU,EAAE;MACtBH,QAAQ,CAACE,SAAS,CAACP,SAAS,CAACI,OAAO,CAACI,UAAU,CAAC,CAAC;IACnD;IACAH,QAAQ,CAACE,SAAS,CAACV,WAAW,CAACO,OAAO,CAACK,YAAY,CAAC,CAAC;IACrDJ,QAAQ,CAACE,SAAS,CAACd,wBAAwB,EAAE,CAAC;EAChD;EAEAY,QAAQ,CAACE,SAAS,CAACL,yBAAyB,EAAE,CAAC;EAE/CG,QAAQ,CAACE,SAAS,CAACZ,cAAc,EAAE,EAAE;IAAEe,cAAc,EAAE,CAAClB,mBAAmB;EAAC,CAAE,CAAC;EAC/Ea,QAAQ,CAACE,SAAS,CAACjB,eAAe,CAACc,OAAO,CAACO,gBAAgB,CAAC,CAAC;EAC7DN,QAAQ,CAACE,SAAS,CAACT,wBAAwB,CAACM,OAAO,CAACQ,gBAAgB,EAAEC,yBAAyB,CAAC,CAAC;EACjG;EACA;EACA;EACAR,QAAQ,CAACE,SAAS,CAAChB,eAAe,EAAE,EAAE;IAAEuB,UAAU,EAAE;EAAa,CAAE,CAAC;EACpET,QAAQ,CAACE,SAAS,CAACb,kBAAkB,CAACU,OAAO,CAACW,YAAY,CAAC,EAAE;IAAEC,KAAK,EAAE;EAAO,CAAE,CAAC;EAChFX,QAAQ,CAACE,SAAS,CAACN,aAAa,CAAC;IAAE,GAAGG,OAAO,CAACO,gBAAgB;IAAE,GAAGP,OAAO,CAACa;EAAc,CAAE,CAAC,EAAE;IAC5FH,UAAU,EAAE;GACb,CAAC;EACF,IAAIlB,UAAU,EAAE;IACd;IACA;IACAS,QAAQ,CAACE,SAAS,CAAClB,cAAc,CAACe,OAAO,CAACc,eAAe,CAAC,EAAE;MAAEJ,UAAU,EAAE;IAAO,CAAE,CAAC;EACtF;EACAT,QAAQ,CAACE,SAAS,CAACpB,SAAS,CAACiB,OAAO,CAACa,cAAc,CAAC,EAAE;IAAEH,UAAU,EAAE;EAAM,CAAE,CAAC;EAE7E,OAAOT,QAAQ;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}