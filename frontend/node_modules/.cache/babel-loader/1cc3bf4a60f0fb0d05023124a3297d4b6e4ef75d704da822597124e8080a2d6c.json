{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { RestError } from \"../restError.js\";\nimport { createHttpHeaders } from \"../httpHeaders.js\";\nexport function createRestError(messageOrResponse, response) {\n  const resp = typeof messageOrResponse === \"string\" ? response : messageOrResponse;\n  const internalError = resp.body?.error ?? resp.body;\n  const message = typeof messageOrResponse === \"string\" ? messageOrResponse : internalError?.message ?? `Unexpected status code: ${resp.status}`;\n  return new RestError(message, {\n    statusCode: statusCodeToNumber(resp.status),\n    code: internalError?.code,\n    request: resp.request,\n    response: toPipelineResponse(resp)\n  });\n}\nfunction toPipelineResponse(response) {\n  return {\n    headers: createHttpHeaders(response.headers),\n    request: response.request,\n    status: statusCodeToNumber(response.status) ?? -1\n  };\n}\nfunction statusCodeToNumber(statusCode) {\n  const status = Number.parseInt(statusCode);\n  return Number.isNaN(status) ? undefined : status;\n}","map":{"version":3,"names":["RestError","createHttpHeaders","createRestError","messageOrResponse","response","resp","internalError","body","error","message","status","statusCode","statusCodeToNumber","code","request","toPipelineResponse","headers","Number","parseInt","isNaN","undefined"],"sources":["C:\\Users\\M.Kumagai\\Documents\\React\\ai-foundry-chatbot4\\frontend\\node_modules\\@typespec\\ts-http-runtime\\src\\client\\restError.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { PipelineResponse } from \"../interfaces.js\";\nimport { RestError } from \"../restError.js\";\nimport { createHttpHeaders } from \"../httpHeaders.js\";\nimport type { PathUncheckedResponse } from \"./common.js\";\n\n/**\n * Creates a rest error from a PathUnchecked response\n */\nexport function createRestError(response: PathUncheckedResponse): RestError;\n/**\n * Creates a rest error from an error message and a PathUnchecked response\n */\nexport function createRestError(message: string, response: PathUncheckedResponse): RestError;\nexport function createRestError(\n  messageOrResponse: string | PathUncheckedResponse,\n  response?: PathUncheckedResponse,\n): RestError {\n  const resp = typeof messageOrResponse === \"string\" ? response! : messageOrResponse;\n  const internalError = resp.body?.error ?? resp.body;\n  const message =\n    typeof messageOrResponse === \"string\"\n      ? messageOrResponse\n      : (internalError?.message ?? `Unexpected status code: ${resp.status}`);\n  return new RestError(message, {\n    statusCode: statusCodeToNumber(resp.status),\n    code: internalError?.code,\n    request: resp.request,\n    response: toPipelineResponse(resp),\n  });\n}\n\nfunction toPipelineResponse(response: PathUncheckedResponse): PipelineResponse {\n  return {\n    headers: createHttpHeaders(response.headers),\n    request: response.request,\n    status: statusCodeToNumber(response.status) ?? -1,\n  };\n}\n\nfunction statusCodeToNumber(statusCode: string): number | undefined {\n  const status = Number.parseInt(statusCode);\n\n  return Number.isNaN(status) ? undefined : status;\n}\n"],"mappings":"AAAA;AACA;AAGA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,iBAAiB,QAAQ,mBAAmB;AAWrD,OAAM,SAAUC,eAAeA,CAC7BC,iBAAiD,EACjDC,QAAgC;EAEhC,MAAMC,IAAI,GAAG,OAAOF,iBAAiB,KAAK,QAAQ,GAAGC,QAAS,GAAGD,iBAAiB;EAClF,MAAMG,aAAa,GAAGD,IAAI,CAACE,IAAI,EAAEC,KAAK,IAAIH,IAAI,CAACE,IAAI;EACnD,MAAME,OAAO,GACX,OAAON,iBAAiB,KAAK,QAAQ,GACjCA,iBAAiB,GAChBG,aAAa,EAAEG,OAAO,IAAI,2BAA2BJ,IAAI,CAACK,MAAM,EAAG;EAC1E,OAAO,IAAIV,SAAS,CAACS,OAAO,EAAE;IAC5BE,UAAU,EAAEC,kBAAkB,CAACP,IAAI,CAACK,MAAM,CAAC;IAC3CG,IAAI,EAAEP,aAAa,EAAEO,IAAI;IACzBC,OAAO,EAAET,IAAI,CAACS,OAAO;IACrBV,QAAQ,EAAEW,kBAAkB,CAACV,IAAI;GAClC,CAAC;AACJ;AAEA,SAASU,kBAAkBA,CAACX,QAA+B;EACzD,OAAO;IACLY,OAAO,EAAEf,iBAAiB,CAACG,QAAQ,CAACY,OAAO,CAAC;IAC5CF,OAAO,EAAEV,QAAQ,CAACU,OAAO;IACzBJ,MAAM,EAAEE,kBAAkB,CAACR,QAAQ,CAACM,MAAM,CAAC,IAAI,CAAC;GACjD;AACH;AAEA,SAASE,kBAAkBA,CAACD,UAAkB;EAC5C,MAAMD,MAAM,GAAGO,MAAM,CAACC,QAAQ,CAACP,UAAU,CAAC;EAE1C,OAAOM,MAAM,CAACE,KAAK,CAACT,MAAM,CAAC,GAAGU,SAAS,GAAGV,MAAM;AAClD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}